#!/bin/bash
#--------------------------------------------------------------------------
# femacs
#	emacs is coupled with find command to launch a file with given name by
#	looking for it from current repository
#	Copyright (c) 2010-2012, Michael Paquier
#--------------------------------------------------------------------------

# Show utility help
show_help()
{
	ERROR_NUM=$1
	echo "Usage: `basename $0` [FILENAME]"
	exit $ERROR_NUM
}

EXPECTED_ARGS=1

# Grab the arguments
FILE_NAME=$1

if [ $# -ne $EXPECTED_ARGS ]
then
	# Leave with an error code
	show_help 1
fi

FILE_PATH=`find . -name "$1"`
if [ ! -z $FILE_PATH ]
then
	# Launch the command as the file has been found
	emacs -nw $FILE_PATH
else
	echo "\"$FILE_NAME\" does not exist from current repository"
fi
